# Fluentd configuration for Docker log collection
<source>
  @type forward
  port 24224
  bind 0.0.0.0
</source>

# Route all logs to OTEL collector with lazy DNS resolution
<match **>
  @type forward
  send_timeout 60s
  recover_wait 10s
  hard_timeout 60s
  require_ack_response true
  
  <server>
    name otel-collector
    host otel-collector
    port 24224
    standby false
  </server>
  
  <buffer>
    @type memory
    flush_interval 1s
    retry_timeout 300s
    retry_max_interval 60s
  </buffer>
</match>